{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notificacion.js","services/persons.js","App.js","index.js"],"names":["Person","person","onRemove","name","number","onClick","Persons","persons","filter","data","length","map","key","Filter","onFilter","onChange","PersonForm","onSubmit","handleChangeName","handleChangePhone","newName","newNumber","value","type","Notification","notification","message","style","className","baseUrl","axios","get","then","response","newPerson","post","id","newPhone","put","delete","statusText","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotification","useEffect","personsService","e","filtered","toLowerCase","includes","target","preventDefault","found","find","window","confirm","setTimeout","concat","p","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7006b424.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({ person, onRemove }) => {\n  return (\n    <p>\n      {person.name} - {person.number}{' '}\n      <button onClick={() => onRemove(person)}>delete</button>\n    </p>\n  );\n};\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, filter, onRemove }) => {\n  const data = filter.length ? filter : persons;\n  return (\n    <>\n      {data.map((person) => (\n        <Person key={person.name} person={person} onRemove={onRemove} />\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Filter = ({ onFilter }) => {\n  return (\n    <div>\n      filter shown with <input onChange={onFilter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  onSubmit,\n  handleChangeName,\n  handleChangePhone,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleChangeName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleChangePhone} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Notification = ({ notification }) => {\n  const { message, style } = notification;\n  if (message === null) {\n    return null;\n  }\n  return <div className={style}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newPhone) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPhone);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.statusText);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notificacion';\nimport personsService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState([]);\n  const [notification, setNotification] = useState({\n    message: null,\n    style: null,\n  });\n\n  useEffect(() => {\n    personsService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    const found = persons.find((person) => person.name === newName);\n    if (found) {\n      const result = window.confirm(\n        `${found.name} is already added, replace the old number with this new one?`\n      );\n      if (result) {\n        personsService.update(found.id, newPerson).then((response) => {\n          setPersons(\n            persons.map((person) =>\n              person.id === found.id ? response : person\n            )\n          );\n          setNewName('');\n          setNewNumber('');\n          setNotification({\n            message: `${response.name} was updated`,\n            style: 'success',\n          });\n          setTimeout(() => {\n            setNotification({ message: null, style: null });\n          }, 5000);\n        });\n      }\n    } else {\n      personsService.create(newPerson).then((response) => {\n        setPersons(persons.concat(response));\n        setNewName('');\n        setNewNumber('');\n        setNotification({\n          message: `${response.name} was added`,\n          style: 'success',\n        });\n        setTimeout(() => {\n          setNotification({ message: null, style: null });\n        }, 5000);\n      });\n    }\n  };\n\n  const handleChangeName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleChangePhone = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const onFilter = (e) => {\n    const filtered = persons.filter((person) => {\n      return person.name.toLowerCase().includes(e.target.value.toLowerCase());\n    });\n    setFilter(filtered);\n  };\n\n  const onRemove = (person) => {\n    const result = window.confirm(`Delete ${person.name}?`);\n    if (result)\n      personsService\n        .remove(person.id)\n        .then((response) => {\n          setPersons(persons.filter((p) => p.id !== person.id));\n          setNotification({\n            message: `${person.name} was removed`,\n            style: 'success',\n          });\n          setTimeout(() => {\n            setNotification({ message: null, style: null });\n          }, 5000);\n        })\n        .catch((error) => {\n          setNotification({\n            message: `${person.name} was already removed`,\n            style: 'error',\n          });\n          setTimeout(() => {\n            setNotification({ message: null, style: null });\n          }, 5000);\n          setPersons(persons.filter((p) => p.id !== person.id));\n        });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter onFilter={onFilter} />\n      <h2>Add new</h2>\n      <PersonForm\n        onSubmit={onSubmit}\n        handleChangeName={handleChangeName}\n        handleChangePhone={handleChangePhone}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} onRemove={onRemove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}