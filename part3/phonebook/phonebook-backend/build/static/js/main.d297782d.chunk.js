(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),c=t.n(r),o=t(2),l=function(e){var n=e.person,t=e.onRemove;return u.a.createElement("p",null,n.name," - ",n.number," ",u.a.createElement("button",{onClick:function(){return t(n)}},"delete"))},i=function(e){var n=e.persons,t=e.filter,a=e.onRemove,r=t.length?t:n;return u.a.createElement(u.a.Fragment,null,r.map((function(e){return u.a.createElement(l,{key:e.name,person:e,onRemove:a})})))},s=function(e){var n=e.onFilter;return u.a.createElement("div",null,"filter shown with ",u.a.createElement("input",{onChange:n}))},m=function(e){var n=e.onSubmit,t=e.handleChangeName,a=e.handleChangePhone,r=e.newName,c=e.newNumber;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:r,onChange:t})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:c,onChange:a})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.notification,t=n.message,a=n.style;return null===t?null:u.a.createElement("div",{className:a},t)},d=t(3),h=t.n(d),b="/api/persons",g=function(){return h.a.get(b).then((function(e){return e.data}))},p=function(e){return h.a.post(b,e).then((function(e){return e.data}))},v=function(e,n){return h.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},E=function(e){return h.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.statusText}))},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),d=l[0],h=l[1],b=Object(a.useState)(""),w=Object(o.a)(b,2),y=w[0],j=w[1],O=Object(a.useState)([]),C=Object(o.a)(O,2),S=C[0],N=C[1],k=Object(a.useState)({message:null,style:null}),T=Object(o.a)(k,2),R=T[0],F=T[1];Object(a.useEffect)((function(){g().then((function(e){r(e)}))}),[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(f,{notification:R}),u.a.createElement(s,{onFilter:function(e){var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}));N(n)}}),u.a.createElement("h2",null,"Add new"),u.a.createElement(m,{onSubmit:function(e){e.preventDefault();var n={name:d,number:y},a=t.find((function(e){return e.name===d}));a?window.confirm("".concat(a.name," is already added, replace the old number with this new one?"))&&v(a.id,n).then((function(e){r(t.map((function(n){return n.id===a.id?e:n}))),h(""),j(""),F({message:"".concat(e.name," was updated"),style:"success"}),setTimeout((function(){F({message:null,style:null})}),5e3)})).catch((function(e){F({message:"".concat(e.response.data.error),style:"error"}),setTimeout((function(){F({message:null,style:null})}),5e3)})):p(n).then((function(e){r(t.concat(e)),h(""),j(""),F({message:"".concat(e.name," was added"),style:"success"}),setTimeout((function(){F({message:null,style:null})}),5e3)})).catch((function(e){F({message:"".concat(e.response.data.error),style:"error"}),setTimeout((function(){F({message:null,style:null})}),5e3)}))},handleChangeName:function(e){h(e.target.value)},handleChangePhone:function(e){j(e.target.value)},newName:d,newNumber:y}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(i,{persons:t,filter:S,onRemove:function(e){window.confirm("Delete ".concat(e.name,"?"))&&E(e.id).then((function(n){r(t.filter((function(n){return n.id!==e.id}))),F({message:"".concat(e.name," was removed"),style:"success"}),setTimeout((function(){F({message:null,style:null})}),5e3)})).catch((function(n){F({message:"".concat(e.name," was already removed"),style:"error"}),setTimeout((function(){F({message:null,style:null})}),5e3),r(t.filter((function(n){return n.id!==e.id})))}))}}))};t(36);c.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(w,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.d297782d.chunk.js.map